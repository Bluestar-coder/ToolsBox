# Tauri 功能快速测试

## 1. 启动 Tauri 应用

```bash
# 确保依赖已安装
npm install

# 启动 Tauri 开发模式
npm run tauri dev
```

## 2. 验证 Tauri 环境

打开应用后，按 F12 打开开发者工具，在控制台运行：

```javascript
// 检查是否在 Tauri 环境
console.log('Tauri Environment:', !!(window as any).__TAURI_INTERNALS__);

// 应该输出: Tauri Environment: true
```

## 3. 测试 IP/网络工具（已修复 i18n）

### 3.1 IP 转换器
1. 点击侧边栏"IP/网络工具"
2. 选择"IP转换"标签
3. 输入：`192.168.1.1`
4. ✅ 验证：所有标签应显示中文（不是 key）
5. ✅ 验证：显示所有转换格式

### 3.2 CIDR 计算器
1. 选择"CIDR计算"标签
2. 输入：`192.168.1.0/24`
3. ✅ 验证：显示网络地址、广播地址等信息
4. ✅ 验证：所有标签显示中文

### 3.3 子网划分
1. 选择"子网划分"标签
2. 输入：`192.168.0.0/24`
3. 选择"按子网数量"，输入 `4`
4. 点击"计算划分"
5. ✅ 验证：显示 4 个子网的详细信息
6. ✅ 验证：表格列标题显示中文

### 3.4 IP 归属地
1. 选择"IP归属地"标签
2. 点击"查询本机IP"按钮
3. ✅ 验证：显示本机 IP 和地理位置信息
4. ✅ 验证：在 Tauri 中不会有 CORS 错误

### 3.5 端口速查
1. 选择"端口速查"标签
2. 点击"高频端口"按钮
3. ✅ 验证：显示 19 个常用端口
4. ✅ 验证：表格显示端口、协议、服务、描述、风险等级
5. ✅ 验证：所有文本显示中文

## 4. 测试 HTTP 调试工具（Tauri 特色功能）

### 4.1 测试无 CORS 限制
1. 点击侧边栏"网络调试"
2. 在 URL 输入框输入：`https://api.github.com/users/github`
3. 点击"发送"
4. ✅ 验证：成功获取响应（在浏览器中可能会有 CORS 错误）
5. ✅ 验证：显示响应状态码、响应头、响应体

### 4.2 测试 POST 请求
1. 选择方法：POST
2. URL：`https://httpbin.org/post`
3. 选择 Body 类型：JSON
4. 输入 JSON：
```json
{
  "name": "Tauri Test",
  "version": "1.0.0"
}
```
5. 点击"发送"
6. ✅ 验证：成功发送并收到响应

## 5. 测试窗口状态保存

1. 调整窗口大小（例如：拖动到 1000x600）
2. 移动窗口到屏幕的不同位置
3. 关闭应用
4. 重新运行 `npm run tauri dev`
5. ✅ 验证：窗口恢复到之前的大小和位置

## 6. 测试其他工具

### 6.1 编码/解码
1. 点击"编码/解码"
2. 输入文本：`Hello Tauri`
3. 选择 Base64 编码
4. ✅ 验证：正确编码和解码

### 6.2 时间工具
1. 点击"时间工具"
2. 点击"当前时间"快捷按钮
3. ✅ 验证：显示当前时间戳

### 6.3 加密/解密
1. 点击"加密/解密"
2. 测试 AES 加密
3. ✅ 验证：加密和解密功能正常

## 7. 性能测试

### 7.1 大量子网划分
1. 进入"子网划分"
2. 输入：`10.0.0.0/16`
3. 选择"按子网数量"，输入 `256`
4. 点击"计算划分"
5. ✅ 验证：快速计算并显示结果（Tauri 应该比浏览器快）

### 7.2 连续 HTTP 请求
1. 进入"网络调试"
2. 连续发送 10 个请求到 `https://httpbin.org/get`
3. ✅ 验证：所有请求都成功（无 CORS 问题）

## 8. 国际化测试

1. 点击右上角语言切换按钮
2. 切换到"English"
3. ✅ 验证：所有 IP/网络工具的文本切换为英文
4. 切换回"简体中文"
5. ✅ 验证：所有文本恢复为中文

## 预期结果

### ✅ 应该正常工作的功能
- IP 转换器（所有格式）
- CIDR 计算器
- 子网划分
- IP 归属地查询（无 CORS 限制）
- 端口速查
- HTTP 请求（无 CORS 限制）
- WebSocket 连接
- 窗口状态保存
- 所有翻译文本正确显示
- 主题切换
- 语言切换

### ⚠️ 注意事项
- 首次启动 Tauri 需要编译 Rust 代码，可能需要几分钟
- 确保已安装 Rust 工具链
- 网络功能需要互联网连接

## 故障排除

### 问题：Tauri 启动失败
```bash
# 检查 Rust 是否安装
rustc --version

# 如果未安装，运行：
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

### 问题：翻译文本显示为 key
- 已修复：所有 IP/网络工具的翻译 key 已更新为 `modules.ipNetwork.*`
- 如果仍有问题，清除浏览器缓存或重启应用

### 问题：HTTP 请求失败
- 检查网络连接
- 检查 `tauri-plugin-http` 是否正确配置
- 查看控制台错误信息

## 测试完成标准

所有以下项目都应该通过：
- [x] Tauri 应用成功启动
- [x] IP/网络工具所有标签显示中文
- [x] IP 转换功能正常
- [x] CIDR 计算功能正常
- [x] 子网划分功能正常
- [x] IP 归属地查询成功（无 CORS 错误）
- [x] 端口速查显示正确数据
- [x] HTTP 请求成功（无 CORS 限制）
- [x] 窗口状态保存和恢复
- [x] 语言切换正常
- [x] 主题切换正常
