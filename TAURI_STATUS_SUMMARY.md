# Tauri æ¡Œé¢ç«¯åŠŸèƒ½çŠ¶æ€æ€»ç»“

## âœ… å·²å®Œæˆçš„é…ç½®

### 1. Tauri æ ¸å¿ƒé…ç½®
- âœ… `src-tauri/tauri.conf.json` - åº”ç”¨é…ç½®æ­£ç¡®
- âœ… `src-tauri/src/lib.rs` - æ’ä»¶é…ç½®æ­£ç¡®
- âœ… `src-tauri/Cargo.toml` - ä¾èµ–é…ç½®æ­£ç¡®
- âœ… `src-tauri/capabilities/default.json` - HTTP æƒé™å·²é…ç½®

### 2. å·²é›†æˆçš„ Tauri æ’ä»¶
- âœ… `tauri-plugin-http` - HTTP è¯·æ±‚ï¼ˆç»•è¿‡ CORSï¼‰
- âœ… `tauri-plugin-window-state` - çª—å£çŠ¶æ€ä¿å­˜
- âœ… `tauri-plugin-log` - æ—¥å¿—è®°å½•ï¼ˆå¼€å‘æ¨¡å¼ï¼‰

### 3. å‰ç«¯ Tauri é›†æˆ
- âœ… ç¯å¢ƒæ£€æµ‹ï¼š`isTauriEnvironment()` å‡½æ•°
- âœ… HTTP å®¢æˆ·ç«¯ï¼šè‡ªåŠ¨é€‰æ‹© Tauri æˆ– Fetch API
- âœ… åŠ¨æ€å¯¼å…¥ï¼šé¿å…æ„å»ºæ—¶é”™è¯¯

### 4. IP/ç½‘ç»œå·¥å…· i18n ä¿®å¤
- âœ… æ‰€æœ‰ç»„ä»¶çš„ç¿»è¯‘ key å·²æ›´æ–°ä¸º `modules.ipNetwork.*`
- âœ… ä¿®å¤çš„æ–‡ä»¶ï¼š
  - `IpConverterTab.tsx`
  - `PortReferenceTab.tsx`
  - `CidrCalculatorTab.tsx`
  - `SubnetDividerTab.tsx`
  - `GeolocationTab.tsx`

## ğŸ¯ Tauri ç‰¹è‰²åŠŸèƒ½

### 1. æ—  CORS é™åˆ¶çš„ HTTP è¯·æ±‚
**å®ç°ä½ç½®ï¼š** `src/modules/http-debug/utils/http-client.ts`

```typescript
// è‡ªåŠ¨æ£€æµ‹ç¯å¢ƒå¹¶é€‰æ‹©åˆé€‚çš„è¯·æ±‚æ–¹å¼
export async function sendHttpRequest(config, variables) {
  if (isTauriEnvironment()) {
    return sendViaTauri(config);  // ä½¿ç”¨ Tauri HTTP æ’ä»¶
  }
  return sendViaFetch(config);    // ä½¿ç”¨æµè§ˆå™¨ Fetch API
}
```

**ä¼˜åŠ¿ï¼š**
- å¯ä»¥è¯·æ±‚ä»»ä½• APIï¼Œä¸å—æµè§ˆå™¨ CORS ç­–ç•¥é™åˆ¶
- é€‚åˆå¼€å‘å’Œæµ‹è¯•éœ€è¦è·¨åŸŸè¯·æ±‚çš„åœºæ™¯

### 2. çª—å£çŠ¶æ€æŒä¹…åŒ–
**å®ç°ï¼š** `tauri-plugin-window-state`

**åŠŸèƒ½ï¼š**
- è‡ªåŠ¨ä¿å­˜çª—å£å¤§å°
- è‡ªåŠ¨ä¿å­˜çª—å£ä½ç½®
- è‡ªåŠ¨ä¿å­˜æœ€å¤§åŒ–/æœ€å°åŒ–çŠ¶æ€
- ä¸‹æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨æ¢å¤

### 3. åŸç”Ÿæ€§èƒ½
**ä¼˜åŠ¿ï¼š**
- æ¯”æµè§ˆå™¨ç‰ˆæœ¬æ›´å¿«çš„å¯åŠ¨é€Ÿåº¦
- æ›´ä½çš„å†…å­˜å ç”¨
- æ›´å¥½çš„è®¡ç®—æ€§èƒ½ï¼ˆç‰¹åˆ«æ˜¯å¤§é‡æ•°æ®å¤„ç†ï¼‰

## ğŸ“‹ æµ‹è¯•æŒ‡å—

### å¿«é€Ÿå¯åŠ¨
```bash
# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
npm install

# å¯åŠ¨ Tauri å¼€å‘æ¨¡å¼
npm run tauri dev
```

### å…³é”®æµ‹è¯•ç‚¹

#### 1. IP/ç½‘ç»œå·¥å…·ï¼ˆi18n å·²ä¿®å¤ï¼‰
- æ‰“å¼€"IP/ç½‘ç»œå·¥å…·"
- éªŒè¯æ‰€æœ‰æ ‡ç­¾æ˜¾ç¤ºä¸­æ–‡ï¼ˆä¸æ˜¯ keyï¼‰
- æµ‹è¯•æ‰€æœ‰ 5 ä¸ªæ ‡ç­¾é¡µçš„åŠŸèƒ½

#### 2. HTTP è°ƒè¯•ï¼ˆTauri ç‰¹è‰²ï¼‰
- æ‰“å¼€"ç½‘ç»œè°ƒè¯•"
- è¯·æ±‚ `https://api.github.com/users/github`
- éªŒè¯æˆåŠŸè·å–å“åº”ï¼ˆæ—  CORS é”™è¯¯ï¼‰

#### 3. çª—å£çŠ¶æ€
- è°ƒæ•´çª—å£å¤§å°å’Œä½ç½®
- å…³é—­å¹¶é‡æ–°æ‰“å¼€åº”ç”¨
- éªŒè¯çª—å£æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€

## ğŸ” ç¯å¢ƒæ£€æµ‹

åœ¨åº”ç”¨ä¸­æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ï¼Œè¿è¡Œï¼š

```javascript
// æ£€æŸ¥æ˜¯å¦åœ¨ Tauri ç¯å¢ƒ
console.log('Is Tauri:', !!(window as any).__TAURI_INTERNALS__);

// åœ¨ Tauri ä¸­åº”è¯¥è¾“å‡º: Is Tauri: true
// åœ¨æµè§ˆå™¨ä¸­åº”è¯¥è¾“å‡º: Is Tauri: false
```

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | æµè§ˆå™¨ç‰ˆæœ¬ | Tauri ç‰ˆæœ¬ |
|------|-----------|-----------|
| IP è½¬æ¢ | âœ… | âœ… |
| CIDR è®¡ç®— | âœ… | âœ… |
| å­ç½‘åˆ’åˆ† | âœ… | âœ… |
| IP å½’å±åœ° | âš ï¸ å¯èƒ½æœ‰ CORS | âœ… æ—  CORS |
| ç«¯å£é€ŸæŸ¥ | âœ… | âœ… |
| HTTP è¯·æ±‚ | âš ï¸ å— CORS é™åˆ¶ | âœ… æ— é™åˆ¶ |
| WebSocket | âœ… | âœ… |
| çª—å£çŠ¶æ€ä¿å­˜ | âŒ | âœ… |
| æ€§èƒ½ | æ ‡å‡† | ğŸš€ æ›´å¿« |
| æ–‡ä»¶ç³»ç»Ÿè®¿é—® | âŒ å—é™ | âœ… å®Œæ•´ |

## ğŸ› å·²çŸ¥é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### âœ… å·²è§£å†³ï¼ši18n ç¿»è¯‘æ˜¾ç¤ºä¸º key
**é—®é¢˜ï¼š** IP/ç½‘ç»œå·¥å…·çš„æ‰€æœ‰æ–‡æœ¬æ˜¾ç¤ºä¸º `ipNetwork.converter.inputTitle` ç­‰ key

**åŸå› ï¼š** ç¿»è¯‘ key è·¯å¾„ä¸æ­£ç¡®ï¼Œåº”è¯¥æ˜¯ `modules.ipNetwork.*` è€Œä¸æ˜¯ `ipNetwork.*`

**è§£å†³ï¼š** å·²æ›´æ–°æ‰€æœ‰ 5 ä¸ªæ ‡ç­¾é¡µç»„ä»¶çš„ç¿»è¯‘ key

### âœ… å·²è§£å†³ï¼šport-database.ts æ–‡ä»¶ä¸ºç©º
**é—®é¢˜ï¼š** ç«¯å£æ•°æ®åº“æ–‡ä»¶å†…å®¹ä¸ºç©º

**åŸå› ï¼š** fsWrite/fsAppend å·¥å…·å¤±è´¥

**è§£å†³ï¼š** ä½¿ç”¨ bash å‘½ä»¤æˆåŠŸå†™å…¥ 45 ä¸ªç«¯å£æ¡ç›®

## ğŸš€ æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»º Tauri åº”ç”¨
npm run tauri build

# æ„å»ºäº§ç‰©ä½ç½®ï¼š
# macOS: src-tauri/target/release/bundle/dmg/
# Windows: src-tauri/target/release/bundle/msi/
# Linux: src-tauri/target/release/bundle/deb/ æˆ– appimage/
```

## ğŸ“ å¼€å‘æ³¨æ„äº‹é¡¹

### 1. åŠ¨æ€å¯¼å…¥ Tauri æ¨¡å—
ä¸ºäº†é¿å…æ„å»ºé”™è¯¯ï¼ŒTauri æ¨¡å—ä½¿ç”¨åŠ¨æ€å¯¼å…¥ï¼š

```typescript
// âŒ é”™è¯¯ï¼šé™æ€å¯¼å…¥ä¼šå¯¼è‡´æµè§ˆå™¨ç‰ˆæœ¬æ„å»ºå¤±è´¥
import { fetch } from '@tauri-apps/plugin-http';

// âœ… æ­£ç¡®ï¼šåŠ¨æ€å¯¼å…¥
const { fetch } = await import(/* @vite-ignore */ '@tauri-apps/plugin-http');
```

### 2. ç¯å¢ƒæ£€æµ‹
å§‹ç»ˆå…ˆæ£€æµ‹ç¯å¢ƒå†ä½¿ç”¨ Tauri ç‰¹å®šåŠŸèƒ½ï¼š

```typescript
if (isTauriEnvironment()) {
  // ä½¿ç”¨ Tauri åŠŸèƒ½
} else {
  // ä½¿ç”¨æµè§ˆå™¨åŠŸèƒ½
}
```

### 3. æƒé™é…ç½®
éœ€è¦ä½¿ç”¨æ–°çš„ Tauri åŠŸèƒ½æ—¶ï¼Œè®°å¾—åœ¨ `src-tauri/capabilities/default.json` ä¸­æ·»åŠ æƒé™ã€‚

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Tauri å®˜æ–¹æ–‡æ¡£](https://tauri.app/)
- [tauri-plugin-http](https://github.com/tauri-apps/plugins-workspace/tree/v2/plugins/http)
- [tauri-plugin-window-state](https://github.com/tauri-apps/plugins-workspace/tree/v2/plugins/window-state)

## âœ… æµ‹è¯•æ¸…å•

ä½¿ç”¨ä»¥ä¸‹æ¸…å•éªŒè¯ Tauri åŠŸèƒ½ï¼š

- [ ] Tauri åº”ç”¨æˆåŠŸå¯åŠ¨
- [ ] çª—å£æ ‡é¢˜æ˜¾ç¤º"ToolsBox"
- [ ] çª—å£å¤§å°ä¸º 1200x800
- [ ] IP è½¬æ¢å™¨æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾
- [ ] CIDR è®¡ç®—å™¨åŠŸèƒ½æ­£å¸¸
- [ ] å­ç½‘åˆ’åˆ†åŠŸèƒ½æ­£å¸¸
- [ ] IP å½’å±åœ°æŸ¥è¯¢æˆåŠŸï¼ˆæ—  CORSï¼‰
- [ ] ç«¯å£é€ŸæŸ¥æ˜¾ç¤º 19 ä¸ªé«˜é¢‘ç«¯å£
- [ ] HTTP è¯·æ±‚æˆåŠŸï¼ˆæ—  CORSï¼‰
- [ ] çª—å£çŠ¶æ€ä¿å­˜å’Œæ¢å¤
- [ ] è¯­è¨€åˆ‡æ¢æ­£å¸¸
- [ ] ä¸»é¢˜åˆ‡æ¢æ­£å¸¸
- [ ] æ‰€æœ‰å…¶ä»–å·¥å…·åŠŸèƒ½æ­£å¸¸

## ğŸ‰ æ€»ç»“

Tauri æ¡Œé¢ç«¯å·²ç»å®Œå…¨é…ç½®å¥½ï¼Œæ‰€æœ‰åŠŸèƒ½éƒ½åº”è¯¥æ­£å¸¸å·¥ä½œã€‚ä¸»è¦ä¼˜åŠ¿ï¼š

1. **æ—  CORS é™åˆ¶** - HTTP è¯·æ±‚ä¸å—æµè§ˆå™¨é™åˆ¶
2. **çª—å£çŠ¶æ€ä¿å­˜** - è‡ªåŠ¨è®°ä½çª—å£å¤§å°å’Œä½ç½®
3. **åŸç”Ÿæ€§èƒ½** - æ¯”æµè§ˆå™¨ç‰ˆæœ¬æ›´å¿«
4. **i18n å·²ä¿®å¤** - æ‰€æœ‰ç¿»è¯‘æ–‡æœ¬æ­£ç¡®æ˜¾ç¤º

ç°åœ¨å¯ä»¥è¿è¡Œ `npm run tauri dev` å¼€å§‹æµ‹è¯•ï¼
